---
import folders from "../../config/folder.json"
import shop from "../../config/codes.json"
import {CodeItem} from "../../components/CodeItem.js"
import Page from "../../layouts/Page.astro"

// generate the codes in a category
export function getStaticPaths() {
    return folders.map((e) => {
        return {
            params: {
                id: e.name,
            },
            props: {
                name: e.name,
                begin: e.begin,
                end: e.end
            }
        };
    });
}

const { name, begin,end } = Astro.props;
---

<Page title={name+""} back={true}>
<main>
    { name } { begin} { end} 
    { shop.filter((e)=>{
        return false || ( e.code >= begin! && e.code < end!)
    }).map((e)=>{
        <CodeItem title={e.description.short} subtitle={e.code} code={e.code} />
    }) }
</main>
</Page>
